---
title: 泛函分析
katex: true
date: 2025-09-16 15:21:26
tags:
---
## 度量空间
度量空间必须满足四个性质：(1) 非负性；(2) 非退化性；(3) 对称性；(4) 三角不等式。

$C[a, b]$ 上的 $d_p$ 度量不够好，有的时候不收敛；而 $d_\infty$ 度量比较好用。

离散度量：

$$
d(x, y) = \begin{cases}
0, x=y\\
1, x\ne y
\end{cases}
$$

p 阶可和：  

$$
\sum_{i=1}^\infty|x_n|^p \lt \infty
$$

无穷可和：
$$
\exist C \ge 0, \forall n \ge 1, |x_n| \le C.
$$

### 开集和闭集

设 $(X, d)$ 为度量空间，令
$$
B(x_0,r)=\lbrace x\in X{:}d(x_0,x) <r\rbrace \\
\bar{B}(x_0,r)=\lbrace x\in X{:}d(x_0,x)\leqslant r\rbrace \\
S(x_0,r)=\lbrace x\in X{:}d(x_0,x)=r\rbrace
$$

称 $B$, $\bar{B}$, $S$ 分别为开球、闭球、球面。

对于 $M \subset X$, $x_0 \in M$，如果存在 $r > 0$ 使得 $B(x_0, r)\subset M$，则 $x_0$ 为 $M$ 的内点，$M$ 的所有内点称为“内部”，记为 $M\degree$。如果 $M = M\degree$，则称 $M$ 为开集。若 $F^c = X\setminus F$ 为开集，则 $F$ 称为闭集。

$M\degree$ 是 M 内的最大开集。

开集的基本性质：

(1) $X$，空集都是开集。（X 本身可以是闭区间、半开半闭区间，这都无所谓，因为我们是在度量空间 (X, d) 上定义的开和闭）

(2) 任意多个开集的并集仍然是开集。

(3) 有限个开集的交集仍然是开集。（无限多个开集的交集未必是开集，$X=\R$，$G_n=(\frac1n, +\infty)$，则 $\cap_{n=1}^\infty G_n = [0, \infty]$ 不是开集，因为 0 不是它的内点。）

基于上述的三条性质还可以定义拓扑空间的概念，度量空间属于一种特殊的拓扑空间。

离散度量空间中，所有的集合都是开集，并且所有的集合也都是闭集。

闭集的基本性质：

(1) $X$，空集都是闭集。

(2) 任意多个闭集的交集仍然是闭集。

(3) 有限个闭集的并集仍然是闭集。

闭集可以定义聚点，导集 $M^\prime$，闭包 $\bar{M}$ 的概念。如果某个集合 $M$ 满足 $M=\bar{M}$，则可以断定 $M$ 为闭集。同时，闭包是包含 M 的最小闭集。（这概念的定义是否与内点、内部的概念对偶？一个是并，一个是交。相交非空，取反就是集合的包含关系。）

连续映射：
设两个度量空间 $(X_1, d_1)$，$(X_2, d_2)$，映射 T 满足对任意 $\varepsilon > 0$，存在 $\delta > 0$，当 $d(x_1, x_2) < \delta$ 时，有 $d(Tx_1, Tx_2) \le \varepsilon$。


反直觉的事情：离散度量空间 $(X_1, d_1)$ 的映射总是连续映射。

连续映射可以用逆像的开集刻画：连续映射的充要条件是任意开集的逆像为开集。类似的，闭集的逆像为闭集同样可以刻画映射的连续性。

稠密子集：如果 $M\sub X$ 且 $\bar M = X$，称 $M$ 为 $X$ 的稠密子集。如果 $X$ 有 至多可数的稠密子集，称 $X$ 为可分度量空间。（我一直理解错了，认为是“至多可数个”稠密子集，实际上是“存在一个稠密子集，它是至多可数的”。

$M \sub X$ 可以推出 $\bar M \sub X$（奇怪，X 是整个空间，我们讨论的任意集合都应该被包含于 $X$，不需要任何条件才对），因此稠密实际上是说 $X \sub \bar M$，也就是给定任意 $x\in X, r>0$，一定存在 $m\in M$ 使得 $d(x,m) < r$。稠密本质上就是说 X 中任意元素可以用 M 的元素任意逼近。另外，$K^n$ 是可分的。

### 可数

关于映射的性质：

1. 单射的复合是单射；
2. 满射和满射的复合是满射；
3. 双射的复合是双射。

逆映射：

$$
T T^{-1} = I_Y\\
T^{-1}T = I_X
$$

如何比较两个集合的大小？

有限集：直接计算个数即可；

无穷集：如果存在 $A\to B$ 的双射，则 $A, B$ 为等势。记为 $A\sim B$。等势关系具有反身性，对称性，传递性。

可数集：如 $A \sim \N = \lbrace1,2, 3,\dots\rbrace$，称 $A$ 为可数集。

可以证明：如果我能够把集合的所有元素列出来：$A = \lbrace a_1, a_2, \dots, a_n, \dots\rbrace$，元素两两不等，那么 $A$ 就是一个可数集。

有理数是可数的，这个好证。另外，代数数也是可数的。

至多可数：如果一个集合为有限集或者可数集，则称之为至多可数。

一个可数集的子集是至多可数的。

至多可数个可数集的并集为可数集。（证明：对角线遍历即可）由此可以推出，有限个可数集的笛卡尔积还是可数集。因此 $\mathbb Q^n$ 是可数集。

$(0,1)$ 不是可数集。$\R \setminus \mathbb Q$ 是可数集, $(a, b) \cap \mathbb Q$ 是可数集。

$(0,1)\sim(a, b)\sim\R$

可数个可数集的笛卡尔积不一定是可数集。例子：无限长的二进制序列$\lbrace0,1\rbrace^\N = \lbrace0,1\rbrace \times \lbrace0,1\rbrace \times ...$ 不是可数集。

$\mathcal P_n$ 为次数≤ n 的整系数多项式集合。代数数集合$\mathcal A = \lbrace P_1的根, P_2的根, ...\rbrace$ 是可数的。

### 可分度量

回到稠密和可分度量空间的讨论来。

$({\mathcal l}^p, d_p)$ 为可分空间。例如，$\mathbb K = \R$ 的情况下， $M=\lbrace(x_n)_{n\ge1}, x_n\in\mathbb Q, \exist N, \forall n \gt N,x_n=0\rbrace \subset l^p$ 是一个稠密子集。首先可以证明 $\bar M = l^p$。接下来，对 M “分层”：$M=\bigcup_{n=1}^{\infty}\lbrace(x_n)_{n\ge1}| x_n\in \mathbb Q, \forall n\ge m, x_n=0\rbrace$，可数个可数集的并集还是可数集，因此 $M$ 是可数的，$l^p$ 是可分度量空间。


但是，$(l^\infty, d_\infty)$ 不是可分度量空间。我们可以构造 $M=\lbrace \lbrace x_n\rbrace \in\ell^\infty:x_n=0,\text{或者 }x_n=1\rbrace  \sim \lbrace0, 1\rbrace^\N$，对任意稠密子集 $N$，利用稠密性可以构造一个从 $M\to N$ 的单射（$m_1\ne m_2\Rightarrow n_1\ne n_2$），$M$ 是不可数的，从而 $M$ 的像集也是不可数的，而 $M$ 的像集是 $N$ 的子集，一个可数集的子集怎么可能是不可数的呢？所以 $N$ 一定是不可数的。

可以证明 $\bar {\mathbb Q^n} = \R^n$，$\overline{\mathbb Q^n + i\mathbb Q^n} = \mathbb C^n$，因此 $K^n$ 是可分的。

对于离散度量空间，$X$ 为至多可数集是 $(X, d)$ 可分的充要条件。因为离散度量空间中任何子集都是闭集，因此 $M = \bar M$，稠密又必须有 $\bar M = X$，因此只能是 $M = X$ 成立，$M$ 至多可数等价于 $X$ 至多可数。

$C[a, b]$ 也是可分度量空间。实际上整系数多项式集合 $\mathcal P$ 满足 $\bar{\mathcal P} = C[a, b]$。对于 $d_\infty$ 度量，可以用 stone-weirstrass 定理直接证明，而对于 $d_p$ 度量，$d_p(x, y) \le (b-a)^{1/p}d_\infty(x, y)$，自然也可证明。

### 收敛性，完备性及紧性

**收敛性**

若存在 $x\in X$ 使得

$$
\underset{n\to\infty}{\operatorname*{\operatorname*{\lim}}}d(x_n,x)=0,
$$

则称 ${x_n}$ 在 $X$ 中收敛。记为 $\lim_{n\to\infty}x_{n}=x$，或者$x_n\to x$。

如果非空子集 $M$ 被包含在 $X$ 的某个开球内，称 $M$ 为有界集。实际上，$M$ 有界等价于 $\forall x \in X，\exists r > 0，M\subset B(x, r)$。

定理：$x_n\to x$，则

（1）${x_n: n\ge1}$ 为有界集。

（2）$x$ 唯一。

利用序列的收敛性，我们可以更方便地证明一个集合为闭集了。

定理：对于 $M\subset X$

(1) $x\in \bar M$ 当且仅当存在 $M$ 的序列 $x_n$，满足 $x_n\to x$；

(2) $M$ 为闭集 当且仅当 对任意收敛到 $x$ 的 $M$ 中序列 $x_n$，有 $x\in M$。

(1) 证明：若 $x\in M$，则必然存在 $x_n \in B(x, \frac1n)\cap \bar M$，因此 $0\le d(x, x_n) \le \frac1n$，取极限即可；

若从右边证明左边，对任意 $\delta \gt 0$，存在 $n \gt N$ 使得 $d(x, x_n) \lt \delta$，因此，$x_n \in B(x, \delta)$，又因为 $x_n\in M$，因此$B(x, \delta)\cap M \ne \empty$，从而 $x \in \bar M$。

(2) 证明：从左到右：由于 $x_n\to x$，根据 (1) 从右推左，得到 $x\in \bar M = M$；

从右到左：首先 $M \subset M\cup M^\prime = \bar M$ 显然成立。接下来，对任意 $x\in \bar M$，根据 (1) 左推右，存在 M 中序列 $x_n$ 使得 $x_n\to x\in \bar M$，又根据条件可以推出 $x\in M$，因此 $\forall x\in \bar M \Rightarrow x\in M$，从而得知 $\bar M \subset M$。综合得到 $\bar M = M$，即 $M$ 为闭集。

> 这里最迷惑的地方是 (2) 的“对任意收敛到 $x$ 的 $M$ 中序列 $x_n$”，我们知道任意可以推存在而存在不能推任意。但是 (2) 的从左到右证明是证明任意性成立，过程用到了 (1) ，而(1) 是一个存在性的定理，存在怎么推任意呢，似乎出现了逻辑问题。（我有点难以表达这段话的意思，总之就是在这里的理解出现了差错。）实际上并不矛盾，因为他们的“任意”和“存在”描述的并不是同一个对象！实际上我们完全可以把 (1) 的充分性定理写成：“对任意$M$中序列 $x_n$，如果 $x_n$ 收敛到 $x$，则 $x\in \bar M$”，所谓的存在性本质上也是任意性罢了，当然这样写的话必要性定理就不好表达，所以书上没有采用这种写法。

收敛性可以用来刻画映射的连续性：

定理：$T: X_1\to X_2$，$y\in X_1$，则 $T$ 在 $x=y$ 处连续等价于 $\forall x_n\in X_1, x_n\to y$ 有 $Tx_n \to Ty$。

柯西列：$\forall \varepsilon \gt 0$，$\exist N$，$s.t. \forall m, n \ge N$，$d(x_m, x_n) \lt \varepsilon$。

收敛列都属于柯西列，反之不一定。

**完备性**

如果所有柯西列都是收敛列（**收敛到 $X$ 中的某个点**），则称度量空间 $(X,d)$ 是完备的：$\forall x_n \in X$ 为柯西列，$\exist x \in X$,$s.t. x_n\to x$。

$X=\R,\mathbb C$，$d(x,y)=|x-y|$，是完备的。

离散度量空间为完备的。

设 $M = \lbrace(x_n)_{n\ge1}, \exist N, \forall n \ge N, x_n=0\rbrace\subset \ell^1$，$(M, d_1)$ 是不完备的。

首先，取序列 $x_n = (\frac12,\frac14,\dots,\frac1{2^n}, 0, 0, \dots) \subset M$（注意这里的 $n$ 含义为序列的下标，与 $M$ 定义的 $n$ 不同，$M$ 中的 $n$ 是分量的下标），对任意 $m \ge n \ge 1$，$d_1(x_m,x_n) = \sum_{i=n+1}^m\frac{1}{2^i} \le \frac{1}{2^n}$。因此 $x_n$ 是柯西列。但是，假设存在 $x \in M$ 使得 $x_n\to x$，则存在 $N$ 使得 $x$ 从第 $N$ 个分量起都是 $0$。对于任意 $n\ge N+1$， $d_1(x_n, x) \ge \frac1{2^N}$，因此 $x_n \not\to x$。

定理：柯西列均为有界列。

证明：取 $\varepsilon = 1$，存在 $N$，使得对任意 $m,n \ge N$，有 $d(x_m, x_n)\lt 1$，因此 $d(x_m, x_N)\le1$。只要取 $r = \max\lbrace1, d(x_N, x_1), d(x_N, x_2), \dots, d(x_{N-1}, x_N)\rbrace + 1$，就有 $\forall n \gt 1, x_n \in B(x_N, r)$。

定理：$M\in X$
（1）若 $M$ 是完备的，则 $M$ 为闭集。
（2）若 $(X,d)$ 是完备的， 则 $M$ 完备当且仅当 $M$ 为闭集。

（1）证明：对任意收敛列 $x_n\in M\to x \in X$，则 $x_n$ 为 $X$ 中的柯西列，也为 $M$ 中的柯西列，由于 $M$ 完备，存在 $y \in M$ 使得 $x_n \to y$，所以 $x = y \in M$，所以 $M$ 为闭集。

（2）证明：只要从右往左证明。 $M\in X$ 为闭集，则对任意 $x_n \in M \to x$，$x \in M$。对任意 $M$ 中的柯西列 $x_n$，它也是 $X$ 中的柯西列，$X$ 的完备性推出 $x_n \to x \in X$，由闭集的性质得到 $x\in M$，因此 $(M,d)$ 是完备的。

对于同集合，可以有不同的度量，度量之间可能有强弱之分：

$$
d_1(x, y) \le \alpha d_2(x, y), \forall x, y \in X, \exist \alpha \gt 0
$$

称 $d_2$ 强于 $d_1$.

此时构造映射 $T: (X, d_1) \to (X, d_2)$, $x \mid\to x$，为 Lipschitz 映射，因此为连续映射。由连续映射的等价定义，$(X, d_2)$ 中的开集、闭集在 $(X, d_1)$ 中也是开集、闭集。此外，容易得到，$(X, d_1)$ 上的收敛列、柯西列，在 $(X, d_2)$ 上也是收敛列、柯西列，且收敛到的点不变。

如果

$$
\alpha d_1(x, y) \le d_2(x, y) \le \beta d_1(x, y), \forall x, y \in X, \exist \alpha,\beta \gt 0
$$

称 $d_1$ 和 $d_2$ 是等价度量。

等价度量：具有相同的开集、闭集、内点、内部、聚点、闭包、柯西列、收敛性（收敛点相同）、完备性、稠密性、可分性。

对于 $X=\mathbb K^n$，$d_\infty(x, y) \le d_p(x, y) \le n^{\frac1p}d_\infty(x, y)$，因此 $d_p$ 与 $d_\infty$ 等价，$d_p$ 之间相互也等价。要想探究它的完备性，只需要证明 $(\mathbb K^n, d_\infty)$ 是完备的。

假设我们已经在高等数学里面证明过了 $\R, \mathbb C$ 是完备的。对任意 $\mathbb K^n$ 中的柯西列，存在 $N$ 使得对任意 $k, l \ge N$， $d_\infty(x_k, x_l)<\varepsilon/2$，即 $|x_{k,i}-x_{l,i}|\lt \varepsilon/2$，因此 $(x_{k,i})_{k\ge1}$ 是 $\mathbb K$ 中的柯西列也是收敛列，取 $l\to\infty$，$x_{l,i}\to a_i$，则 $|x_{k,i} - a_i| \le \varepsilon/2$，因此 $d_\infty(x_l, a) \le  \varepsilon/2  \lt \varepsilon$，$x_n$ 是收敛的。因此 $\mathbb K^n$ 是完备的。

$\mathbb Q$ 在 $\R$ 中是不完备的，因为 $\mathbb Q$ 在 $\R$ 中不是闭集。

> 完备性的判断只需要看柯西列是不是收敛列就行，而这里的反例之所以“不完备”，不是因为柯西列不收敛，而是因为柯西列没有收敛到给定度量空间的某个点，它收敛到外面的点去了！假如我们扩张度量空间的集合范围，有可能找到一个完备的空间。
> 反过来呢，如果我们有一个完备的空间，我们只需要从这个空间里找一个闭集就可以构造另一个完备的空间。

$(\ell^\infty, d_\infty)$ 是完备的度量空间。证明：对任意柯西列 $x_n$，存在 $N$ 使得对任意 $k, l \ge N$， $d_\infty(x_k, x_l)<\varepsilon/2$，即 $|x_{k,i}-x_{l,i}|\lt \varepsilon/2$，因此 $(x_{k,i})_{k\ge1}$ 是 $\mathbb K$ 中的柯西列也是收敛列，取 $l\to\infty$，$x_{l,i}\to a_i$，则 $|x_{k,i} - a_i| \le \varepsilon/2$，因此 $d_\infty(x_l, a) = \sup|x_{l,i} - a_i| \le  \varepsilon/2  \lt \varepsilon$。接下来的关键问题是证明 $a \in \ell^\infty$。$|a_i| \le |a_i + x_{k, i}| \le \varepsilon / 2 + C_k$ 因此 $a\in \ell^\infty$。因此 $x_n \to a\in M$,$(\ell^\infty, d_\infty)$ 完备。

$(\ell^p, d_p)$ 是完备的。$\forall \varepsilon > 0$，$\exist K, \forall k, l \ge K$, $d_p(x_l, x_k)  = (\sum_{n=1}^\infty |x_{k,n} - x_{l, n}|^p)^{1/p}\lt \varepsilon / 2$。对任意 $n \ge 1$，$|x_{k, n} - x_{l, n}| \lt \varepsilon / 2$，因此 $(x_{l, n})_{k\ge1}$ 是 $\mathbb K$ 中的柯西列，因此设 $x_{l, n} \to a_n$，$a = (a_1, a_2, \dots)$。从而 $d(x_k, a) = \sum_{n=1}^\infty(|x_{k,n} - a_{n}|^p)^{1/p} = \lim\limits_{l\to\infty}\sum_{n=1}^\infty(|x_{k,n} - x_{l, n}|^p)^{1/p} \le \varepsilon / 2 \lt \varepsilon$，此时只需要证明 $a\in \ell^p$。

对于连续函数 $X=C[a, b]$，$(C[a, b], d_\infty)$ 是完备的.$d_\infty$，$d_p(x, y)\le (b-a)^{1/p}d_\infty(x,y)$。对任意 $\varepsilon \gt 0$，$\exist K, \forall k,l\ge K, d_\infty(x_k, x_l)  \le \varepsilon/8$。即 $\forall t \in [a, b], |x_k(t) - x_l(t)| \lt \varepsilon / 8$。因此 $x_k(t)$ 是 $\mathbb K$ 中的柯西列。我们假设在每个点 $t$，$x_k(t) \to x(t)$。$d(x(t), x_k(t)) = \lim\limits_{l\to\infty} d(x_l(t), x_k(t)) \le \varepsilon / 8 \Rightarrow \forall t\in[a, b], |x(t) - x_k(t)| \le \varepsilon / 8$。接下来我们只要证明 $x \in C[a, b]$，也就是证明它的连续性：$\lim_{t\to t_0}x(t) = x(t_0)$。由于 $x_k \in C[a,b]$，因此 $\exist \delta \gt 0, |t-t_0| \lt \delta, |x_k(t) - x_k(t_0)| \lt \varepsilon / 8$。

$$
|x(t) - x(t_0)| \le |x(t) - x_k(t)| + |x_k(t) - x_k(t_0)| + |x_k(t_0) - x(t_0)|\\
\le \varepsilon / 8 + \varepsilon / 8 + \varepsilon / 8 \lt \varepsilon
$$

从而 $x \in C[a,b]$ 得证。

$(C[a, b], d_p)$ 不完备。例如，当 $p=1$ 时可以构造如下函数：

$$
x_n(t) = \begin{cases}
0, & t\le \frac12\\
2n(t-1/2), & \frac12 \lt t \le \frac12 + \frac{1}{2n}\\
1, & t\gt \frac12 + \frac{1}{2n}\\
\end{cases}
$$

$d(x_m, x_n) = \frac{1}2(\frac1m - \frac1n)$ 是柯西列，但是它的极限是：

$$
x_n(t) = \begin{cases}
0, & t\le \frac12\\
1, & t\gt \frac12\\
\end{cases}
$$

不是连续函数。

如何证明 $(X, d)$ 是完备的？

1. 任取柯西列 $x_k \in X$
2. 找到可能的极限 $x$
3. 求证 $x\in X$
4. $x_k \to x$

$c_0=\{\{x_n\}\in\ell^\infty:\lim_{n\to\infty}x_n=0\}$，$(c_0, d_\infty)$ 是完备的，和前面不同，这里 $c_0 \subset \ell^\infty$，因此只需要证明 $c_0$ 是闭集就可以了！

对于双射 $T$，若满足

$$
d_2(Tx,Ty)=d_1(x,y),\quad x,y\in X_1
$$

称 $T$ 为等距同构。

设$(X,d)$为度量空间，则存在完备度量空间($\hat{X},\hat{d}$)及$\hat{X}$的子空间(M, $\hat{d}|_{M\times M}),M\subset\hat{X}$,使得 $M$ 在$\hat{X}$ 中稠密$,M$ 与($X,d$)等距同构.上述$(\hat{X},\hat{d})$在等距同构意义下是唯一的，即若存在完备度量空间($X^\prime,d^{\prime}$)及其子空间($M^\prime,d^{\prime}|_{M\times M^{\prime}}$),$M^\prime\subset X^{\prime}$,使得 $M^\prime$在$X^{\prime}$中稠密$,(M^\prime,d^{\prime}|_{M\times M^{\prime}})$与$(X,d)$等距同构，则$(\hat{X},\hat{d})$与$(X^\prime,d^{\prime})$等距同构.

上述过程称为完备化，每个度量空间只有一个完备化。

### Banach 不动点定理

设$(X,d)$为度量空间$,T:X\boldsymbol{\rightarrow}X$ 为映射、若存在常数$0 \le a<1$,任给 $x,y\in X$,

$d(Tx,Ty)\leqslant\alpha d\left(x,y\right)$

成立，则称$T$为 压 缩 映 射.

**Banach 不动点定理（压缩映像原理）**

非空完备度量空间 $(X, d)$ 的压缩映射 $T: X\to X$ 必有唯一的不动点。


<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="Blither Boom"><meta name="copyright" content="Blither Boom"><meta name="generator" content="Hexo 6.2.0"><meta name="theme" content="hexo-theme-yun"><title>数逻 | Guo_Yun</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.4.1/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="stylesheet" type="text/css" href="https://fastly.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script defer src="https://fastly.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script><link rel="stylesheet" type="text/css" href="https://fastly.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.css"><script defer src="https://fastly.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.js"></script><script defer src="https://fastly.jsdelivr.net/npm/katex@latest/dist/contrib/auto-render.min.js"></script><script type="module">import { renderKatex } from '/js/utils.js'
document.addEventListener("DOMContentLoaded", () => {
  renderKatex({
    ...{},
    ...true?.options,
  });
});</script><link rel="icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"blitherboom812.github.io","root":"/","title":["摸","🐟","人","的","日","常"],"version":"1.10.11","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}.","hits":"${hits} results found","hits_time":"${hits} results found in ${time} ms"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","fireworks":{"colors":null},"vendors":{"host":"https://fastly.jsdelivr.net/npm/","darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap"><meta name="description" content="IntroductionBoolean AlgebraThe Number SystemBCDBCD (Binary-Coded Decimal) Classic method: 8421BCD. add calculation: the problem of carry: $$ (14)_D+(28)_D&#x3D;(0001\ 0100)_{BCD} + (0100\ 0100)_{BCD}\\ &#x3D;(0">
<meta property="og:type" content="article">
<meta property="og:title" content="数逻">
<meta property="og:url" content="https://blitherboom812.github.io/2023/02/27/%E6%95%B0%E9%80%BB/index.html">
<meta property="og:site_name" content="Guo_Yun">
<meta property="og:description" content="IntroductionBoolean AlgebraThe Number SystemBCDBCD (Binary-Coded Decimal) Classic method: 8421BCD. add calculation: the problem of carry: $$ (14)_D+(28)_D&#x3D;(0001\ 0100)_{BCD} + (0100\ 0100)_{BCD}\\ &#x3D;(0">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_3_1.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_4_1.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_4_2.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_4_3.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_4_4.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_4_5.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_4_6.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_4_7.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_4_8.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_4_9.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_4_10.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_4_11.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_4_12.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_4_13.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_4_14.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_4_15.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_4_16.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_4_17.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_4_1.jpg8.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_1.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_2.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_3.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_4.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_5.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_6.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_7.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_9.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_10.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_8.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_11.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_14.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_12.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_13.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_15.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_17.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_16.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_18.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_19.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_20.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_21.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_22.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_23.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_24.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_25.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_5_26.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_6_1.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_6_2.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_6_3.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_6_4.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_6_5.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_6_6.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_6_7.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_6_8.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_6_9.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_7_9.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_7_1.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_7_13.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_7_5.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_7_2.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_7_3.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_7_10.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_7_4.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_7_6.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_7_7.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_7_.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_7_11.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_7_12.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_7_14.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_7_15.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_7_16.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_7_17.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_7_18.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_7_19.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_7_20.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_7_21.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_7_22.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_7_23.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_7_24.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_1.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_2.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_3.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_4.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_5.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_6.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_7.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_8.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_9.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_10.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_11.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_12.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_13.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_14.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_15.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_16.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_17.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_18.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_19.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_20.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_21.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_30.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_31.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_22.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_23.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_24.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_25.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_26.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_27.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_28.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_8_29.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_9_1.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_9_3.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_9_4.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_9_5.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_9_6.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_9_7.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_9_8.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_9_10.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_9_11.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_9_15.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_9_12.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_9_13.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/ss/lec21_8.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/ss/lec21_1.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/ss/lec21_2.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/ss/lec21_8.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_10_1.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_10_2.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_10_3.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_9_14.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_10_4.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_10_5.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_10_6.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_10_7.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_10_8.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_10_9.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_10_10.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_12_1.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_12_2.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_12_3.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_12_4.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_12_5.jpg">
<meta property="og:image" content="https://blitherboom812.github.io/images/digital/lec_12_6.jpg">
<meta property="article:published_time" content="2023-02-27T01:54:53.000Z">
<meta property="article:modified_time" content="2023-06-05T05:54:11.000Z">
<meta property="article:author" content="Blither Boom">
<meta property="article:tag" content="note">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blitherboom812.github.io/images/digital/lec_3_1.jpg"><script>(function() {
  if (CONFIG.mode !== 'auto') return
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script><!-- hexo injector head_end start --><link rel="stylesheet" type="text/css" href="/css/latex.css"><link rel="stylesheet" type="text/css" href="/css/fonts.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>// Define global variable
IconifyProviders = {
  // Empty prefix: overwrite default API provider configuration
  '': {
    // Use custom API first, use Iconify public API as backup
    resources: [
        'https://api.iconify.design',
    ],
    // Wait for 1 second before switching API hosts
    rotate: 1000,
  },
};</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="Blither Boom"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="Blither Boom"></a><div class="site-author-name"><a href="/about/">Blither Boom</a></div><span class="site-name">Guo_Yun</span><sub class="site-subtitle"></sub><div class="site-description"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:home-4-line"></span></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:archive-line"></span></span><span class="site-state-item-count">32</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:folder-2-line"></span></span><span class="site-state-item-count">0</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="site-state-item-count">7</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="文档"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:settings-line"></span></span></a></nav><hr style="margin-bottom:0.5rem"><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="我的小伙伴们" style="color:dodgerblue"><span class="icon iconify" data-icon="ri:genderless-line"></span></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><span class="icon iconify" data-icon="ri:contrast-2-line"></span></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-number">1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Boolean-Algebra"><span class="toc-number">2.</span> <span class="toc-text">Boolean Algebra</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#The-Number-System"><span class="toc-number">2.1.</span> <span class="toc-text">The Number System</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#BCD"><span class="toc-number">2.1.1.</span> <span class="toc-text">BCD</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Gray-Code"><span class="toc-number">2.1.2.</span> <span class="toc-text">Gray Code</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Floating-poing-Number"><span class="toc-number">2.1.3.</span> <span class="toc-text">Floating poing Number</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Negative-numbers"><span class="toc-number">2.1.4.</span> <span class="toc-text">Negative numbers</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Boolean-expression"><span class="toc-number">2.2.</span> <span class="toc-text">Boolean expression</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Definition"><span class="toc-number">2.2.1.</span> <span class="toc-text">Definition</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Boolean-function"><span class="toc-number">2.2.2.</span> <span class="toc-text">Boolean function</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Boolean-function-simplification"><span class="toc-number">2.3.</span> <span class="toc-text">Boolean function simplification</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-level-logic"><span class="toc-number">2.3.1.</span> <span class="toc-text">2-level logic</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Simplification-of-2-level-logic"><span class="toc-number">2.3.2.</span> <span class="toc-text">Simplification of 2-level logic</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Combinational-Logic"><span class="toc-number">3.</span> <span class="toc-text">Combinational Logic</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Gate"><span class="toc-number">3.1.</span> <span class="toc-text">Gate</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Combinational-logic-circuits"><span class="toc-number">3.2.</span> <span class="toc-text">Combinational logic circuits</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Metrics"><span class="toc-number">3.2.1.</span> <span class="toc-text">Metrics</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Hazard"><span class="toc-number">3.2.2.</span> <span class="toc-text">Hazard</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Basic-comb-logic-circuits"><span class="toc-number">3.3.</span> <span class="toc-text">Basic comb. logic circuits</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Sequential-logic"><span class="toc-number">4.</span> <span class="toc-text">Sequential logic</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Clock"><span class="toc-number">4.1.</span> <span class="toc-text">Clock</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#State-and-FSM"><span class="toc-number">4.2.</span> <span class="toc-text">State and FSM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Latch"><span class="toc-number">4.3.</span> <span class="toc-text">Latch</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Examples"><span class="toc-number">4.3.1.</span> <span class="toc-text">Examples</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Timing-parameters"><span class="toc-number">4.3.2.</span> <span class="toc-text">Timing parameters</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Flip-Flop"><span class="toc-number">4.4.</span> <span class="toc-text">Flip-Flop</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Examples-1"><span class="toc-number">4.4.1.</span> <span class="toc-text">Examples</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-types-of-FF"><span class="toc-number">4.4.2.</span> <span class="toc-text">4 types of FF</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Problems"><span class="toc-number">4.5.</span> <span class="toc-text">Problems</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Analyzing-Sequential-Logic"><span class="toc-number">4.6.</span> <span class="toc-text">Analyzing Sequential Logic</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Designing-Sequential-Logic"><span class="toc-number">4.7.</span> <span class="toc-text">Designing Sequential Logic</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Typical-Sequential-Logic-Circuits"><span class="toc-number">4.8.</span> <span class="toc-text">Typical Sequential Logic Circuits</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Instruction-Set-Architecture"><span class="toc-number">5.</span> <span class="toc-text">Instruction Set Architecture</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Introduction-1"><span class="toc-number">5.1.</span> <span class="toc-text">Introduction</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Implement-Algorithm-In-Hardware"><span class="toc-number">5.1.1.</span> <span class="toc-text">Implement Algorithm In Hardware</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#General-Purpose-Processore-Structure"><span class="toc-number">5.1.2.</span> <span class="toc-text">General Purpose Processore Structure</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Program-FLow"><span class="toc-number">5.1.3.</span> <span class="toc-text">Program FLow</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Instruction-Set-Design"><span class="toc-number">5.2.</span> <span class="toc-text">Instruction Set Design</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MIPS-Instruction-Set"><span class="toc-number">5.3.</span> <span class="toc-text">MIPS Instruction Set</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Instruction-Storage-and-Data-Storage"><span class="toc-number">5.3.1.</span> <span class="toc-text">Instruction Storage and Data Storage</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Instruction-Type-R-I-J"><span class="toc-number">5.3.2.</span> <span class="toc-text">Instruction Type(R, I, J)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Addressing-mode"><span class="toc-number">5.3.3.</span> <span class="toc-text">Addressing mode</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Instruciton-System"><span class="toc-number">5.3.4.</span> <span class="toc-text">Instruciton System</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Procedure-Call"><span class="toc-number">5.3.5.</span> <span class="toc-text">Procedure Call</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Single-Cycle-Processor"><span class="toc-number">6.</span> <span class="toc-text">Single-Cycle Processor</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Multi-Cycle-Processor"><span class="toc-number">7.</span> <span class="toc-text">Multi-Cycle Processor</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exception-and-Interrupt"><span class="toc-number">8.</span> <span class="toc-text">Exception and Interrupt</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pipelined-processor"><span class="toc-number">9.</span> <span class="toc-text">Pipelined processor</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Hazard-in-the-pipeline"><span class="toc-number">9.1.</span> <span class="toc-text">Hazard in the pipeline</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Implementation-of-the-Pipiline"><span class="toc-number">9.2.</span> <span class="toc-text">Implementation of the Pipiline</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Advanced-techniques-for-processor"><span class="toc-number">10.</span> <span class="toc-text">Advanced techniques for processor</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Instruction-level-parallelism"><span class="toc-number">10.1.</span> <span class="toc-text">Instruction-level parallelism</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Thread-level-parallelism"><span class="toc-number">10.2.</span> <span class="toc-text">Thread-level parallelism</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Heterogeneous-computing"><span class="toc-number">10.3.</span> <span class="toc-text">Heterogeneous computing</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Memory"><span class="toc-number">11.</span> <span class="toc-text">Memory</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Basics"><span class="toc-number">11.1.</span> <span class="toc-text">Basics</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Evaluation"><span class="toc-number">11.2.</span> <span class="toc-text">Evaluation</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7;"><link itemprop="mainEntityOfPage" href="https://blitherboom812.github.io/2023/02/27/%E6%95%B0%E9%80%BB/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="Blither Boom"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="Guo_Yun"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">数逻</h1><div class="post-meta"><div class="post-time"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <time title="Created: 2023-02-27 09:54:53" itemprop="dateCreated datePublished" datetime="2023-02-27T09:54:53+08:00">2023-02-27</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-2-line"></span></span> <time title="Modified: 2023-06-05 13:54:11" itemprop="dateModified" datetime="2023-06-05T13:54:11+08:00">2023-06-05</time></div><div class="post-classify"><span class="post-tag"><a class="tag-item" href="/tags/note/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">note</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><h2 id="Boolean-Algebra"><a href="#Boolean-Algebra" class="headerlink" title="Boolean Algebra"></a>Boolean Algebra</h2><h3 id="The-Number-System"><a href="#The-Number-System" class="headerlink" title="The Number System"></a>The Number System</h3><h4 id="BCD"><a href="#BCD" class="headerlink" title="BCD"></a>BCD</h4><p>BCD (Binary-Coded Decimal)</p>
<p>Classic method: 8421BCD.</p>
<p>add calculation:</p>
<p>the problem of carry:</p>
<div>$$
(14)_D+(28)_D=(0001\ 0100)_{BCD} + (0100\ 0100)_{BCD}\\
=(0101\ 1100)_{BCD}=(0110\ 0010)_{BCD}
$$</div>

<h4 id="Gray-Code"><a href="#Gray-Code" class="headerlink" title="Gray Code"></a>Gray Code</h4><p>used in logic simplification and signal transmission.</p>
<p>every time a single bit is changed.</p>
<h4 id="Floating-poing-Number"><a href="#Floating-poing-Number" class="headerlink" title="Floating poing Number"></a>Floating poing Number</h4><h4 id="Negative-numbers"><a href="#Negative-numbers" class="headerlink" title="Negative numbers"></a>Negative numbers</h4><p><strong>Complement Numeric System</strong></p>
<p>1’s Complement: $N_{1’s} + (-N)_{1’s} &#x3D; (111…)_{1’s}$, or just inverting every bit of N. Low space efficiency and difficult to compute.</p>
<p>2’s Complement: $N_{2’s} + (-N)_{2’s} &#x3D; (000…)_{2’s}$, or just inverting every bit of N and plus 1. A shift on 1’s Complement.</p>
<p>MSB&#x3D;Most significant bit, LSB&#x3D;Least significant bit.</p>
<div>$$
-N=N_{us}-2^n=\sum_{i=0}^{n-1}k_i2^i-2^n=-k_{n-1}2^{n-1}+k_{n-2}2^{n-2}+\dots k_02^0
$$</div>

<p>So just set the weight of MSB to $-2^{n-1}$.</p>
<p>we ignore the bit beyond the range to make sure the answer is correct.</p>
<div>$$
(101)_{2's}+(001)_{2's}=(110)_{2's}\\
(011)_{2's}-(001)_{2's}=(011)_{2's}+(111)_{2's}=(010)_{2's}
$$</div>
To detect an overflow, we can notice if 2 positive numbers add up to a negative numbers or 2 negative numbers add up to a positive numbers.

<p>We can fix overflow by adding 0 as MSB if the answer should be positive and adding 1 as MSB if the answer should be negative.</p>
<h3 id="Boolean-expression"><a href="#Boolean-expression" class="headerlink" title="Boolean expression"></a>Boolean expression</h3><h4 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h4><div>$$
+(\text{OR/logic add}),\cdot (\text{AND/logic multiply}), \prime(\bar{})(\text{NOT/logit NOT})
$$</div>

<h4 id="Boolean-function"><a href="#Boolean-function" class="headerlink" title="Boolean function"></a>Boolean function</h4><p><strong>Duality</strong></p>
<p>AND&lt;-&gt;OR, 0&lt;-&gt;1, variables unchanged.</p>
<div>$$
F_1=F_2\Leftrightarrow F_1^D=F_2^D
$$</div>

<p><strong>De Morgan’s Law</strong></p>
<p>AND&lt;-&gt;OR, 0&lt;-&gt;1, <strong>X&lt;-&gt;X’</strong></p>
<p><strong>Useful Theorem</strong></p>
<p>X(Y+Z)&#x3D;XY+XZ</p>
<p>XY+Z&#x3D;(X+Z)(Y+Z)</p>
<p>X+XY&#x3D;X</p>
<p>X(X+Y)&#x3D;X</p>
<h3 id="Boolean-function-simplification"><a href="#Boolean-function-simplification" class="headerlink" title="Boolean function simplification"></a>Boolean function simplification</h3><h4 id="2-level-logic"><a href="#2-level-logic" class="headerlink" title="2-level logic"></a>2-level logic</h4><p><strong>Standard form</strong><br>SOP and POS</p>
<p>Sum of Products or Products of Sum</p>
<p><strong>Min-term</strong><br>A min-term is a product of all variables taken either in the direct or complemented form, each variable shown once.</p>
<p>$A’B’C’&#x3D;m_0$ and $ABC&#x3D;M_7$</p>
<p><strong>Max-term</strong> A max-term is a sum of all variables taken either in the direct or complemented form, each variable shown once.</p>
<p>$A+B+C&#x3D;M_0$ and $A’+B’+C’&#x3D;M_7$</p>
<div>$$
m_6= \overline{M_6}
$$</div>

<p><strong>Karnaugh Maps</strong></p>
<p>Use row and columns to represent combinations of the inputs(by min-terms), the cell to represent the value. The inputs is ordered by the sequence of Grey Code.</p>
<h4 id="Simplification-of-2-level-logic"><a href="#Simplification-of-2-level-logic" class="headerlink" title="Simplification of 2-level logic"></a>Simplification of 2-level logic</h4><p><strong>Karnaugh Maps method</strong></p>
<p>If two adjacent min-terms deliver logic 1, merge them.</p>
<p><strong>Implicant</strong></p>
<div>$$
G\Rightarrow F, \text{then }G\text{ is the implicant of }F\\
no\ Q\ s.t.P\Rightarrow Q\Rightarrow F, \text{then }P \text{ is the prime implicant of }F\\
\text{If one min-term can only be covered by one prime implicant, this prime implicant is an EPI.}
$$</div>

<p>EPI will finally exist there.</p>
<p><strong>Q-M method</strong></p>
<p>algorithm to simplify multiple-input large-scale function.</p>
<h2 id="Combinational-Logic"><a href="#Combinational-Logic" class="headerlink" title="Combinational Logic"></a>Combinational Logic</h2><h3 id="Gate"><a href="#Gate" class="headerlink" title="Gate"></a>Gate</h3><p>NAND, NOT, NOR is better than AND, OR in saving area.</p>
<p><strong>Transmission Gate</strong> Use both NMOS and PMOS to form a CMOS switch. NMOS is good at transmitting low volt while PMOS is better at working on high volt.</p>
<p><strong>Tri-state Gate</strong> EN is high, TG on, F&#x3D;A; EN is low, TG off, F is isolated from input A. The states are called logic 0, logic 1 and high-resistance Z.</p>
<p><img src="/../images/digital/lec_3_1.jpg" loading="lazy"></p>
<p>The bottom part of the circuit is used to avoid the high-Z state.</p>
<h3 id="Combinational-logic-circuits"><a href="#Combinational-logic-circuits" class="headerlink" title="Combinational logic circuits"></a>Combinational logic circuits</h3><p>Outputs are the function of logic input circuits.</p>
<p>Determined only by current not past inputs + delay</p>
<p>To deal with complex logic with many inputs, we should:</p>
<ul>
<li>From 2-level to multi-level(BDD?)</li>
<li>Divide-and-conquer</li>
<li>Re-using</li>
</ul>
<h4 id="Metrics"><a href="#Metrics" class="headerlink" title="Metrics"></a>Metrics</h4><p><strong>Static metrics</strong> Logic voltage values, DC noise margins, Area, Fan-out</p>
<p><strong>Dynamic metrics</strong> Speed&#x2F;delay, Power dissipation, Noise(reference)</p>
<p><strong>Speed</strong> rise time and fall time. Propagation time.</p>
<p><strong>Fan out</strong> The maximum number of CMOS inputs that one logic output can drive.</p>
<p><strong>Power and energy</strong> Leakage power(static power): subthreshold leakage power, gate leakage, D&#x2F;S subtrate leakage. We can reduce the static power:</p>
<ul>
<li>increase $|V_{TH}|$ </li>
<li>or decrease $V_{DD}$.</li>
</ul>
<div>$$
P_{total} = P_{dynamic} + P_{dynamic\_short} + P_{leakage}
$$</div>

<p>Dynamic power $P_{dynamic\\_short}$ shows in pull-up and pull-down on.</p>
<div>$$
P = C_LV_{DD}^2\underset{\text{Flip Prob.}}{\alpha_{0-1}}f
$$</div>

<p>To reduce dynamic power:</p>
<ul>
<li>Reduce VDD and Capacitors</li>
<li>Reduce frequency, flipping probability.</li>
</ul>
<p>Energy-delay product is a metric. It’s hard to reduce.</p>
<ul>
<li>Low power can increase the lifetime of the chip.</li>
<li>Low delay can increase the speed of the chip.</li>
</ul>
<h4 id="Hazard"><a href="#Hazard" class="headerlink" title="Hazard"></a>Hazard</h4><p><strong>static-1 hazard</strong> ‘1’ output has a transient ‘0’ glitch</p>
<p><strong>static-0 hazard</strong> ‘1’ output has a transient ‘0’ glitch</p>
<p><strong>dynamic hazard</strong> several transitions during a single output change(not required)</p>
<p>If the initial input and final input cannot be covered by one PI, it may have a glitch as state transition.</p>
<h3 id="Basic-comb-logic-circuits"><a href="#Basic-comb-logic-circuits" class="headerlink" title="Basic comb. logic circuits"></a>Basic comb. logic circuits</h3><p>Encoder: inputs are more, outputs are less($n \le 2^m$)</p>
<p>Decoder: inputs are less, outputs are more($m &#x3D; 2^n$)</p>
<p>Multiplexer: From several inputs, choose one as output according to the address inputs. It can be used to make a shift register. We can use n-bit-addr MUX for m-bit function.</p>
<p>Adder: Half adder &amp; full adder.</p>
<p>Half Adder: $S &#x3D; A \oplus B$</p>
<p>Full adder: $C_{out} &#x3D; A\cdot C_{in} + B\cdot C_{in} + A\cdot B, S &#x3D; A\oplus B\oplus C_{in}$</p>
<p>Implements of Full Adder:</p>
<p><strong>Serial Adder</strong> $C_{i+1} &#x3D; A_iC_i+B_iC_i + A_iB_i$. The latency is disastrous.</p>
<p><strong>Carry Lookahead Adder(CLA)</strong></p>
<p>First define $P_i &#x3D; A_i\oplus B_i, G_i &#x3D; A_iB_i$, P means Carry-bit propagation, G means Carry-bit Generation. Thus, $C_{i+1} &#x3D; G_i + P_iC_i, S_i &#x3D; A_i\oplus B_i\oplus C_i &#x3D; P_i\oplus C_i$. Thus the $C_i$ can be replaced: </p>
<div>$$
C_1 = G_0+P_0C_0\\
C_2 = G_1 + P_1(G_0+P_0C_0) =  G_1 + P_1G_0+P_1P_0C_0\\
C_3 = G_2 + P_2(G_1 + P_1G_0+P_1P_0C_0) = G_2 + P_2G_1 + P_2P_1G_0+P_2P_1P_0C_0\\
C_4=G_3+P_3(G_2 + P_2G_1 + P_2P_1G_0+P_2P_1P_0C_0)=G_3+P_3G_2 + P_3P_2G_1 + P_3P_2P_1G_0+P_3P_2P_1P_0C_0
$$</div>

<p>A 4-bit CLA can be designed using these formulas. For more, it is too complex. However, we can cascade the 4-bit CLA to reach the balance of latency and complexity.</p>
<p>Moreover, here comes the parallel intra- and inter-group CLA which regards the 4-bit adder as a block and defines its $P_i$ and $G_i$, connecting the 4-bit adders in a similar manner as the structure of 4-bit adder inside.</p>
<h2 id="Sequential-logic"><a href="#Sequential-logic" class="headerlink" title="Sequential logic"></a>Sequential logic</h2><p><img src="/../images/digital/lec_4_1.jpg" loading="lazy"></p>
<h3 id="Clock"><a href="#Clock" class="headerlink" title="Clock"></a>Clock</h3><ul>
<li>Ring Oscillator</li>
<li>LC oscilator</li>
<li>Crystal Oscillator</li>
</ul>
<h3 id="State-and-FSM"><a href="#State-and-FSM" class="headerlink" title="State and FSM"></a>State and FSM</h3><p><strong>States</strong> contain all needed infomation. could be redundant.</p>
<p><strong>Finite State Machine(FSM)</strong> The number of input, output and states are finite.</p>
<p>Mealy FSM: </p>
<p><img src="/../images/digital/lec_4_2.jpg" loading="lazy"></p>
<p>Moore FSM: </p>
<p><img src="/../images/digital/lec_4_3.jpg" loading="lazy"></p>
<p>We describe the FSM by State Transition Table or State Diagram.</p>
<p><img src="/../images/digital/lec_4_4.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_4_5.jpg" loading="lazy"></p>
<p>Remember: Moore is less.</p>
<h3 id="Latch"><a href="#Latch" class="headerlink" title="Latch"></a>Latch</h3><p>Watch the input at the <strong>duration</strong> clock enables.</p>
<h4 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h4><p><strong>SR latch</strong></p>
<p><img src="/../images/digital/lec_4_6.jpg" loading="lazy"></p>
<p>$SR&#x3D;0$ is required.</p>
<div>$$
Q^+=S+R^\prime Q
$$</div>

<p>A gated version:</p>
<p><img src="/../images/digital/lec_4_7.jpg" loading="lazy"></p>
<div>$$
Q^+=C^\prime Q + C(S+R^\prime Q)
$$</div>

<p><strong>D latch</strong></p>
<p><img src="/../images/digital/lec_4_8.jpg" loading="lazy"></p>
<div>$$
Q^+=D
$$</div>

<p>Transimission Gate version</p>
<p><img src="/../images/digital/lec_4_9.jpg" loading="lazy"></p>
<h4 id="Timing-parameters"><a href="#Timing-parameters" class="headerlink" title="Timing parameters"></a>Timing parameters</h4><p><img src="/../images/digital/lec_4_10.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_4_11.jpg" loading="lazy"></p>
<h3 id="Flip-Flop"><a href="#Flip-Flop" class="headerlink" title="Flip-Flop"></a>Flip-Flop</h3><p>Watch the input only at the <strong>moment</strong> when clock signal rises or falls.</p>
<h4 id="Examples-1"><a href="#Examples-1" class="headerlink" title="Examples"></a>Examples</h4><p>D Flip-flop(DFF)</p>
<p><img src="/../images/digital/lec_4_12.jpg" loading="lazy"></p>
<p>2 D latches in series with opposite clock.</p>
<p><strong>Use the delay to help us</strong></p>
<p>The delay of  NOT gate at the bottom enables the slave to lock first and the master to unlock second when clock falls.</p>
<p>Also, the delay of NOT gate at the bottom makes $t_h&#x3D;0$.</p>
<p><img src="/../images/digital/lec_4_13.jpg" loading="lazy"></p>
<p><strong>Two time constraints</strong></p>
<p>Set-up time constraints: restrict the clock cycle.</p>
<p><img src="/../images/digital/lec_4_14.jpg" loading="lazy"></p>
<p>$t_{logic}(max)$ is also called propagation delay $t_{dab}$.</p>
<p>Hold time constraints: restrict the $t_d$</p>
<p><img src="/../images/digital/lec_4_15.jpg" loading="lazy"></p>
<p>$t_{logic}(min)$ is also called contamination delay($t_{cab}$).</p>
<h4 id="4-types-of-FF"><a href="#4-types-of-FF" class="headerlink" title="4 types of FF"></a>4 types of FF</h4><p><img src="/../images/digital/lec_4_16.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_4_17.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_4_1.jpg8.jpg" loading="lazy"></p>
<p>Characteristic equations</p>
<div>$$
Q^+=D\\
Q^+=T\overline Q + \overline{T}Q\\
Q^+=S+\overline{R}Q\\
Q^+=J\overline{Q}+\overline{K}Q
$$</div>

<h3 id="Problems"><a href="#Problems" class="headerlink" title="Problems"></a>Problems</h3><p>Can $t_h$ be negative?</p>
<p><a target="_blank" rel="noopener" href="https://www.physicaldesign4u.com/2020/04/sta-iii-global-setup-and-hold-time-can.html">setup-and-hold-time</a></p>
<p>How to convert FF?</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_43975016/article/details/121193168">https://blog.csdn.net/qq_43975016/article/details/121193168</a></p>
<h3 id="Analyzing-Sequential-Logic"><a href="#Analyzing-Sequential-Logic" class="headerlink" title="Analyzing Sequential Logic"></a>Analyzing Sequential Logic</h3><p><strong>Function Analysis</strong></p>
<p><img src="/../images/digital/lec_5_1.jpg" loading="lazy"></p>
<p><strong>State Transistion Table</strong></p>
<p><img src="/../images/digital/lec_5_2.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_5_3.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_5_4.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_5_5.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_5_6.jpg" loading="lazy"></p>
<p>Opt.2 is different and needed to be thought carefully. The x and s in $g(x, s)$ may not be caused by same x.</p>
<p><strong>Time Constraint</strong></p>
<h3 id="Designing-Sequential-Logic"><a href="#Designing-Sequential-Logic" class="headerlink" title="Designing Sequential Logic"></a>Designing Sequential Logic</h3><p><strong>Step 1 Determine the input, output and state</strong></p>
<p><img src="/../images/digital/lec_5_7.jpg" loading="lazy"></p>
<p>Here, Moore is more in FSM states.</p>
<p><strong>Step 2 State simplification</strong></p>
<p>2 methods: row matching &amp; implication chart</p>
<p>row matching: $P\equiv Q$ iff. outputs and next states are same.</p>
<p>We can use <strong>implication table</strong> to optimize the row matching method.</p>
<p><img src="/../images/digital/lec_5_9.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_5_10.jpg" loading="lazy"></p>
<p><strong>Step 3 State allocation&#x2F;representation</strong></p>
<p><img src="/../images/digital/lec_5_8.jpg" loading="lazy"></p>
<p>Many methods:</p>
<p><img src="/../images/digital/lec_5_11.jpg" loading="lazy"></p>
<p><strong>Next state and input&#x2F;output based criteria</strong></p>
<p>Highest Priority:</p>
<p>Same input and same next state should be encoded adjacently.</p>
<p><img src="/../images/digital/lec_5_14.jpg" loading="lazy"></p>
<p>Medium Priority:</p>
<p>Next states of the same state should have adjacent<br>encoding.</p>
<p><img src="/../images/digital/lec_5_12.jpg" loading="lazy"></p>
<p>Lowest Priority:</p>
<p>States with the same output should have adjacent<br>encoding.</p>
<p><img src="/../images/digital/lec_5_13.jpg" loading="lazy"></p>
<p><strong>Step 5 Get Excitation and Output Equations</strong></p>
<p><img src="/../images/digital/lec_5_15.jpg" loading="lazy"></p>
<p><strong>Step 6 Draw Logic Circuit Diagram</strong></p>
<h3 id="Typical-Sequential-Logic-Circuits"><a href="#Typical-Sequential-Logic-Circuits" class="headerlink" title="Typical Sequential Logic Circuits"></a>Typical Sequential Logic Circuits</h3><p>Register &amp; Counter</p>
<p><strong>Register</strong></p>
<p>Shift register. Serial&#x2F;Parallel Input, Serial&#x2F;Parallel Output.</p>
<p><img src="/../images/digital/lec_5_17.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_5_16.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_5_18.jpg" loading="lazy"></p>
<p><strong>Counter</strong></p>
<p><strong>UP&#x2F;Down Counter</strong></p>
<p><img src="/../images/digital/lec_5_19.jpg" loading="lazy"></p>
<p><strong>Specific-base Counter</strong></p>
<p>000→010→011→101→110→000</p>
<p><img src="/../images/digital/lec_5_20.jpg" loading="lazy"></p>
<p><strong>Self-Starting problem of counter</strong></p>
<p>Abnormal state(001, 100, 111)</p>
<p><img src="/../images/digital/lec_5_21.jpg" loading="lazy"></p>
<p><strong>Ring counter &amp; twisted ring counter</strong></p>
<p><img src="/../images/digital/lec_5_22.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_5_23.jpg" loading="lazy"></p>
<p><strong>Async &amp; snyc Counter</strong></p>
<p><img src="/../images/digital/lec_5_24.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_5_25.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_5_26.jpg" loading="lazy"></p>
<h2 id="Instruction-Set-Architecture"><a href="#Instruction-Set-Architecture" class="headerlink" title="Instruction Set Architecture"></a>Instruction Set Architecture</h2><h3 id="Introduction-1"><a href="#Introduction-1" class="headerlink" title="Introduction"></a>Introduction</h3><h4 id="Implement-Algorithm-In-Hardware"><a href="#Implement-Algorithm-In-Hardware" class="headerlink" title="Implement Algorithm In Hardware"></a>Implement Algorithm In Hardware</h4><p><img src="/../images/digital/lec_6_1.jpg" loading="lazy"></p>
<p>Three steps: </p>
<ul>
<li>Instruction fetch</li>
<li>Instruction decoding</li>
<li>Instruction execution &amp; data write-back</li>
</ul>
<p><strong>Program Counter(PC)</strong></p>
<p>Current Instruction Address</p>
<p>Updated Every Cycle</p>
<p><strong>Arithmetic&#x2F;Logic Instructions</strong></p>
<p>Arithmetic Logic Unit(ALU)</p>
<p>REG to REG, NOT Directly access data memory</p>
<p><strong>Branch&#x2F;Jump Instructions</strong></p>
<p>Branch After Comparison</p>
<p>Jump Directly</p>
<p><strong>Load&#x2F;Store Instructions</strong></p>
<p>Load Data: data memory to REG</p>
<p>Store Data: REG to data memory</p>
<h4 id="General-Purpose-Processore-Structure"><a href="#General-Purpose-Processore-Structure" class="headerlink" title="General Purpose Processore Structure"></a>General Purpose Processore Structure</h4><p><strong>Turing Machine</strong></p>
<p>2 Turing Machine Models: </p>
<ul>
<li>Princeton architecture</li>
<li>Harvard architecture</li>
</ul>
<p><img src="/../images/digital/lec_6_2.jpg" loading="lazy"></p>
<h4 id="Program-FLow"><a href="#Program-FLow" class="headerlink" title="Program FLow"></a>Program FLow</h4><p><img src="/../images/digital/lec_6_3.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_6_4.jpg" loading="lazy"></p>
<h3 id="Instruction-Set-Design"><a href="#Instruction-Set-Design" class="headerlink" title="Instruction Set Design"></a>Instruction Set Design</h3><p>Instruction set is the bridge between software &amp; generall-purpose (GP) CPU.</p>
<p><strong>Performance Evaluate</strong></p>
<div>$$
\text{Performance} = \frac{1}{\text{Execution Time}}
$$</div>

<p>Task Execution Time By CPU:</p>
<div>$$
\text{Total Time} = \text{Waiting for I/O} + \text{Execution Time}\\
\text{Execution Time} = \text{Cycle }\# \times \text{Clock Cycle }T = \frac{\text{Cycle }\# }{\text{Clock }f} 
$$</div>

<div>$$
\text{Cycle } \# = \text{Progream Instruction }\# \times \text{Average Cycle } \# \text{ for one inst.}
$$</div>

<p>Average Cycle # for one instruction is also known as the cycle per instruction (CPI)</p>
<p>So, </p>
<div>$$
\text{Execution Time} = \text{Instruction }\# \times \text{CPI} \times \text{Clock Cycle }
$$</div>

<p><strong>CPI</strong></p>
<div>$$
\text{CPI} = \sum_{i = 1}^n \text{CPI}_i \times \text{P}_i
$$</div>

<p>Where $\text{P}_i$ is the i-th instruction occurrence frequency, and $\text{CPI}_i$ is the clock cycle # of the i-th instruction.</p>
<p><strong>Factors that affect Performance</strong></p>
<ul>
<li>Instruction # </li>
<li><ul>
<li>ISA, regardless of its specific implementation</li>
</ul>
</li>
<li><ul>
<li>Compiler</li>
</ul>
</li>
<li>CPI</li>
<li><ul>
<li>Memory System and Processor Architecture</li>
</ul>
</li>
<li><ul>
<li>The Instruction Composition In the Program</li>
</ul>
</li>
<li><ul>
<li>Compiler</li>
</ul>
</li>
<li>Clock Cycle</li>
<li><ul>
<li>Machine implementation details</li>
</ul>
</li>
<li><ul>
<li>Memory System and Processor Architecture</li>
</ul>
</li>
</ul>
<p><img src="/../images/digital/lec_6_5.jpg" loading="lazy"></p>
<p><strong>Data Access</strong></p>
<p><img src="/../images/digital/lec_6_6.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_6_7.jpg" loading="lazy"></p>
<p><strong>Set Design</strong></p>
<p>RISC &amp; CISC</p>
<p><img src="/../images/digital/lec_6_8.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_6_9.jpg" loading="lazy"></p>
<p><strong>Five Questions</strong></p>
<ul>
<li>How to make use of 11 extra bits in arithmetic operations?</li>
<li>How to use 16 bits to represent 32-bit address for branch?</li>
<li>How to encode branch instruction with immediate?</li>
<li>How to use 21 bits to represent 32-bit address for memory address?</li>
<li>How to use 26 bits to represent 32-bit address for jump?</li>
</ul>
<h3 id="MIPS-Instruction-Set"><a href="#MIPS-Instruction-Set" class="headerlink" title="MIPS Instruction Set"></a>MIPS Instruction Set</h3><h4 id="Instruction-Storage-and-Data-Storage"><a href="#Instruction-Storage-and-Data-Storage" class="headerlink" title="Instruction Storage and Data Storage"></a>Instruction Storage and Data Storage</h4><p>32-bits instruction length, and 32 general-purpose registers.</p>
<p>First 6 bits are opcode.</p>
<p><strong>Register</strong></p>
<p><img src="/../images/digital/lec_7_9.jpg" loading="lazy"></p>
<p>the register index is limited to 5 bits.</p>
<h4 id="Instruction-Type-R-I-J"><a href="#Instruction-Type-R-I-J" class="headerlink" title="Instruction Type(R, I, J)"></a>Instruction Type(R, I, J)</h4><p><strong>Type: R</strong></p>
<p><strong>Field Division and detailed definition</strong></p>
<p><img src="/../images/digital/lec_7_1.jpg" loading="lazy"></p>
<p>Q1: Can we make use of the extra 11 bits?</p>
<p><img src="/../images/digital/lec_7_13.jpg" loading="lazy"></p>
<p><strong>Type: I</strong></p>
<p>It’s immediate.</p>
<p><img src="/../images/digital/lec_7_5.jpg" loading="lazy"></p>
<p>2 cases:</p>
<p><img src="/../images/digital/lec_7_2.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_7_3.jpg" loading="lazy"></p>
<p>Q2:The possible address range covers 32 bits. How to represent the address with limited 16 bits for branch?</p>
<p>base + offset</p>
<p><img src="/../images/digital/lec_7_10.jpg" loading="lazy"></p>
<p>Q3: How to encode the branch with immediate?</p>
<p>No direct instructions for this.</p>
<p>We use compare instruction and branch instruction to achieve this.</p>
<p>Q4: The possible address range covers 32 bits. How to represent the address with limited 21 bits for memory access?</p>
<p>base + offset</p>
<p><img src="/../images/digital/lec_7_4.jpg" loading="lazy"></p>
<p><strong>Type: J</strong></p>
<p><img src="/../images/digital/lec_7_6.jpg" loading="lazy"></p>
<p>Q5: The possible address range covers 32 bits. How to represent<br>the address with limited 26 bits for jump?</p>
<p>3 types of jump operation: <code>j</code>, <code>jal</code> and <code>jr</code>.</p>
<p><img src="/../images/digital/lec_7_7.jpg" loading="lazy"></p>
<p><strong>Summary</strong></p>
<p><img src="/../images/digital/lec_7_.jpg" loading="lazy"></p>
<h4 id="Addressing-mode"><a href="#Addressing-mode" class="headerlink" title="Addressing mode"></a>Addressing mode</h4><p>5 modes:</p>
<ul>
<li>Register addressing</li>
<li>Immediate addressing</li>
<li>Base (base-offset) addressing</li>
<li>PC-related addressing</li>
<li>Pseudo-direct addressing</li>
</ul>
<p><strong>Register addressing</strong></p>
<p><img src="/../images/digital/lec_7_11.jpg" loading="lazy"></p>
<p><strong>Immediate addressing</strong></p>
<p><img src="/../images/digital/lec_7_12.jpg" loading="lazy"></p>
<p>How to load a 32-bit constant to $s0?</p>
<p><img src="/../images/digital/lec_7_14.jpg" loading="lazy"></p>
<p><strong>Base-offset addressing</strong></p>
<p><img src="/../images/digital/lec_7_15.jpg" loading="lazy"></p>
<p><strong>PC-related addressing</strong></p>
<p><img src="/../images/digital/lec_7_16.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_7_17.jpg" loading="lazy"></p>
<p><strong>Pseudo-direct addressing</strong></p>
<p><img src="/../images/digital/lec_7_18.jpg" loading="lazy"></p>
<p>It is faster because no add operation needed, comparing to <code>PC_new = &#123;PC_old + address &lt;&lt; 2&#125;</code>.</p>
<p><strong>Summary</strong></p>
<p><img src="/../images/digital/lec_7_19.jpg" loading="lazy"></p>
<h4 id="Instruciton-System"><a href="#Instruciton-System" class="headerlink" title="Instruciton System"></a>Instruciton System</h4><p><strong>Arithmetic</strong></p>
<p>Add  <code>add $t0, $t1, $t2      #$t0=$t1+$t2</code></p>
<p>Add immediate <code>addi $t2, $t3, 5  #$t2=$t3+5</code></p>
<p>Subtract <code>sub $t2,$t3,$t4 #$t2=$t3-$t4</code></p>
<p>NO subtract-an-immediate instruction! We use 2’s complement immediate in the <code>addi</code>.</p>
<p><strong>Logic</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">and $t0, $t1, $t2< /span><br><span class="line">or $t0, $t1, $t2</span><br><span class="line">xor $t0, $t1, $t2< /span><br><span class="line">nor $t0, $t1, $t2</span><br></pre></td></tr></table></figure>

<p>No NOT instruction. We set <code>$t1</code> or <code>$t2</code> to 0 and use NOR.</p>
<p>With immediate:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">andi $t0, $t1, 10</span><br><span class="line">ori $t0, $t1, 10</span><br><span class="line">xori $t0, $t1, 10</span><br></pre></td></tr></table></figure>

<p><strong>Shift</strong></p>
<p>Immediate-amount shift:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sll $t0, $t1, 10</span><br><span class="line"># $t0 = $t1 &lt;&lt; 10, logical</span><br><span class="line">srl $t0, $t1, 10</span><br><span class="line"># $t0 = $t1 &lt;&lt; 10, logical</span><br><span class="line">sra $t0, $t1, 10</span><br><span class="line"># $t0 = $t1 &gt;&gt; 10, arithmetic, depending on the sign bit</span><br></pre></td></tr></table></figure>

<p>Register-amonut shift: </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sllv $t0, $t1, $t3< /span><br><span class="line"># $t0 = $t1 &lt;&lt; ($t3%32), logical</span><br><span class="line">srl $t0, $t1, $t3< /span><br><span class="line"># $t0 = $t1 &lt;&lt; ($t3%32), logical</span><br><span class="line">sra $t0, $t1, $t3< /span><br><span class="line"># $t0 = $t1 &gt;&gt; ($t3%32), arithmetic, depending on the sign bit</span><br></pre></td></tr></table></figure>

<p><strong>Compare instruction</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">slt $t1, $t2, $t3< /span><br><span class="line"># if ($t2 &lt; $t3) $t1=1;</span><br><span class="line"># else $t1=0< /span><br><span class="line">sltu $t1, $t2, $t3</span><br><span class="line"># unsigned comparison</span><br></pre></td></tr></table></figure>

<p>With immediate:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">slti $t1, $t2, 10</span><br><span class="line">sltui $t1, $t2, 10</span><br></pre></td></tr></table></figure>

<p><strong>About i, u, iu</strong></p>
<p><img src="/../images/digital/lec_7_20.jpg" loading="lazy"></p>
<p><strong>Load&#x2F;Store Instruction</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lw $t1, 32($t2)</span><br><span class="line">sw $t3, 500($t4)</span><br></pre></td></tr></table></figure>

<p>Register stores base address is called base register,<br>Constant in the instruction is called offset.</p>
<p><strong>Branch instruction</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">beq $t0, $t1, target</span><br><span class="line">#if $t0=$t1, then execute</span><br><span class="line">#instruction target</span><br><span class="line">bne $t0, $t1, target</span><br><span class="line"># if $t0!=$t1, then execute</span><br><span class="line"># instruction target</span><br></pre></td></tr></table></figure>

<p>More than this 2 instructions.</p>
<p><strong>Jump instruction</strong></p>
<p>Unconditional branch</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">j label</span><br><span class="line">#unconditionally jump to label</span><br></pre></td></tr></table></figure>

<h4 id="Procedure-Call"><a href="#Procedure-Call" class="headerlink" title="Procedure Call"></a>Procedure Call</h4><p><img src="/../images/digital/lec_7_21.jpg" loading="lazy"></p>
<p>MIPS uses registers for argument and return data&#x2F;address.</p>
<p>Argument registers: <code>$a0-$a3</code></p>
<p>Return value registers: <code>$v0-$v1</code></p>
<p>Retuen address register: <code>$ra</code></p>
<p><code>jal Procedure #Procedure call jr $ra #Procedure return</code></p>
<p><code>jal</code> and <code>j</code> are both J-type, but <code>jal</code> will store the return address.</p>
<p><code>jr</code> is R-type, will jump to the address restored in the register, so it can jump very far.</p>
<p><strong>Maintain the register data</strong></p>
<p>2 types:</p>
<ul>
<li>Temporaries data registers</li>
<li>Saved data registers</li>
</ul>
<p><img src="/../images/digital/lec_7_22.jpg" loading="lazy"></p>
<p>Who saves the register data?</p>
<p>Caller(temp) or Callee(save)</p>
<p><img src="/../images/digital/lec_7_23.jpg" loading="lazy"></p>
<p>We use Stack to maintain the register data.</p>
<p><img src="/../images/digital/lec_7_24.jpg" loading="lazy"></p>
<p><strong>Stack Operation with $sp</strong></p>
<p>e.g. <code>push $s1, $s2 , $s3</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">addi $sp, $sp, -12</span><br><span class="line">sw $s1, 8($sp)</span><br><span class="line">sw $s2, 4($sp)</span><br><span class="line">sw $s3, 0($sp)</span><br></pre></td></tr></table></figure>
<p><code>pop $s1, $s2, $s3</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">lw $s1, 0($sp)</span><br><span class="line">lw $s2, 4($sp)</span><br><span class="line">lw $s3, 8($sp)</span><br><span class="line">addi, $sp, $sp, 12</span><br></pre></td></tr></table></figure>

<p><strong>Leaf Procedures</strong></p>
<p>Procedures that do not call others are called <em>leaf</em> procedures.</p>
<p><strong>Nested Procedures</strong></p>
<p>Nested(Recursive) Procedures are procedures that invoke “clones” of themselves.</p>
<p>e.g.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">fact</span> <span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> (n * fact(n - <span class="number">1</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">fact:</span><br><span class="line">    addi    $sp, $sp, -8</span><br><span class="line">    sw      $ra, 4($sp)</span><br><span class="line">    sw      $a0, 0($sp)</span><br><span class="line">    slti    $t0, $a0, 1</span><br><span class="line">    beq     $t0, $zero, L1</span><br><span class="line">    addi    $v0, $zero, 1</span><br><span class="line">    addi    $sp, $sp, 8</span><br><span class="line">    jr      $ra< /span><br><span class="line">L1:</span><br><span class="line">    addi    $a0, $a0, -1< /span><br><span class="line">    jal     fact</span><br><span class="line">    lw      $a0, 0($sp)< /span><br><span class="line">    lw      $ra, 4($sp)< /span><br><span class="line">    addi    $sp, $sp, 8< /span><br><span class="line">    mul     $v0, $a0, $v0</span><br><span class="line">    jr      $ra</span><br></pre></td></tr></table></figure>

<h2 id="Single-Cycle-Processor"><a href="#Single-Cycle-Processor" class="headerlink" title="Single-Cycle Processor"></a>Single-Cycle Processor</h2><p><img src="/../images/digital/lec_8_1.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_2.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_3.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_4.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_5.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_6.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_7.jpg" loading="lazy"></p>
<p><strong>Load Operation Takes MUCH LONGER!!!</strong></p>
<h2 id="Multi-Cycle-Processor"><a href="#Multi-Cycle-Processor" class="headerlink" title="Multi-Cycle Processor"></a>Multi-Cycle Processor</h2><p><img src="/../images/digital/lec_8_8.jpg" loading="lazy"></p>
<p>The Multicycle processor processes different inst. in different cycles. Thus, it can avoid the time limitation by the slow instruction.</p>
<p>Modules on th datapath can be used multiple times within an inst. That is <strong>Module reuse</strong>.</p>
<p>Performance improvement depends on the detailed delay. The multicycle is not necessarily faster than the single cycle.</p>
<p><img src="/../images/digital/lec_8_9.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_10.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_11.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_12.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_13.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_14.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_15.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_16.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_17.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_18.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_19.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_20.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_21.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_30.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_31.jpg" loading="lazy"></p>
<h2 id="Exception-and-Interrupt"><a href="#Exception-and-Interrupt" class="headerlink" title="Exception and Interrupt"></a>Exception and Interrupt</h2><p><img src="/../images/digital/lec_8_22.jpg" loading="lazy"></p>
<p>Generally, exceptions and interrupts are events that can change the normal instruction execution flow (other than branches and jumps).</p>
<p>Exception<br>– Internal unpredictable events such as overflow.</p>
<p>Interrupt<br>– External unpredictable events such as I&#x2F;O.</p>
<p><img src="/../images/digital/lec_8_23.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_24.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_25.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_26.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_27.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_28.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_8_29.jpg" loading="lazy"></p>
<h2 id="Pipelined-processor"><a href="#Pipelined-processor" class="headerlink" title="Pipelined processor"></a>Pipelined processor</h2><p><img src="/../images/digital/lec_9_1.jpg" loading="lazy"></p>
<p>Pipeline means spatial and temporal reuse.</p>
<p>Divide a complex task into several sub-tasks to<br>execute sequentially, and assign each sub-task to<br>dedicated hardware</p>
<p>Different sub-tasks of multiple tasks can be<br>processed simultaneously to improve the<br>performance</p>
<p>• Time-division multiplexing: the same resource is reused through<br>different cycles</p>
<p>• Space-division multiplexing: multiple resources are reused<br>within one cycle</p>
<p>Pros: improved efficiency</p>
<p>Cons: Some inst. depends on the former inst.. However, the former inst. has not finished yet, if the prediction of branch is wrong, time is wasted.</p>
<p>Instruction-Level Parallelism (ILP)</p>
<p>– Execute multiple instructions in parallel</p>
<p>– One mainstream approach to CPU performance improvement</p>
<p>Basic Techniques</p>
<p>– Pipelining: instruction execution is divided into several stages, and<br>each stage can be processed with the other stages (of other<br>instructions) simultaneously</p>
<p>– Superscalar: multiple dedicated functional units are equipped so<br>that CPU can receive &amp; execute more instructions within one cycle.</p>
<p>– Very Long Instruction Word (VLIW): each instruction consists of<br>multiple segments to utilize the processor resources independently.</p>
<p>5 stages in MIPS:</p>
<ol>
<li>Instruction Fetch (IF)</li>
<li>Instruction Decode &#x2F; Register File</li>
<li>ALU Execution(EX)</li>
<li>Memory Data Access(MEM)</li>
<li>Reg Write-Back(WB)</li>
</ol>
<p>Latency of the stages in the pipeline should<br>be as equivalent as possible, why?<br>–The pipeline performance is bottlenecked by the stage<br>of the longest latency</p>
<p><strong>Metrics of pipelined processors</strong></p>
<ul>
<li>Throughput(TP): Executed instruction # per unit time</li>
<li>Max throughput: The throughput of a steady-state pipeline with a continuous instruction input stream</li>
<li>Real throughput: The throughput of the pipeline executing task with finite instructions</li>
</ul>
<p>Real TP:</p>
<div>$$
TP = \frac n {T_k} = \frac{n}{(n+k-1)\Delta t}
$$</div>

<p>Max TP:</p>
<div>$$
TP_{max} = \lim_{n\rightarrow\infty}\frac{n}{(n+k-1)\Delta t} = \frac{1}{\Delta t}
$$</div>

<p><strong>Speed up</strong> Execution time ratio between w&#x2F;o or w&#x2F; pipelining.</p>
<p>$T_0$: execution time without pipelining</p>
<p>$T_k$: execution time with k-stage pipelining(assume each stage has the same latency)</p>
<div>$$
\frac{T_0}{T_k}
$$</div>

<p>Real speedup:</p>
<div>$$
S = \frac{nk\Delta t}{(n + k - 1)\Delta t} = \frac{kn}{n + k - 1}
$$</div>

<p>Max speedup:</p>
<div>$$
S_{max} = \lim_{n\rightarrow \infty}\frac{kn}{k + n - 1} = k
$$</div>

<p><strong>Pipelined datapath</strong></p>
<p><img src="/../images/digital/lec_9_3.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_9_4.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_9_5.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_9_6.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_9_7.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_9_8.jpg" loading="lazy"></p>
<p>Many inst. doesnt need MEM stage, but the stage can’t be skipped, since it may “collide” with the previous inst.</p>
<p>Q: How to get the control signals in each stage?</p>
<p>Control signals are generated at ID&#x2F;RF stage.</p>
<p>Control signals flow in the pipeline: use when needed; reserve when subsequent stages needed; discard when not needed any more.</p>
<p><img src="/../images/digital/lec_9_10.jpg" loading="lazy"></p>
<p>Why RegDst Doesnt needed in the stages after EX?</p>
<p>The RegDst is used to select the destination register. However, the destination register is determined in the EX stage. Thus, RegDst is not needed in the stages after EX.</p>
<p>Sometimes this can cause trouble:</p>
<figure class="highlight mips"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">LW </span>R2, R9(<span class="number">10</span>)</span><br><span class="line"><span class="keyword">ADD </span>R4, R3, R2</span><br><span class="line"><span class="keyword">ADD </span>R6, R5, R4</span><br></pre></td></tr></table></figure>

<p>The R4 is accessed before it updates.</p>
<h3 id="Hazard-in-the-pipeline"><a href="#Hazard-in-the-pipeline" class="headerlink" title="Hazard in the pipeline"></a>Hazard in the pipeline</h3><p><strong>Structural Hazards</strong></p>
<p>Two instructions acquire the same hardware resource simultaneously.</p>
<p><img src="/../images/digital/lec_9_11.jpg" loading="lazy"></p>
<p>Solution:</p>
<ol>
<li>Add resources: separating PC+4 from ALU; Harvard architecture</li>
<li>Adjust stages: add MEM</li>
</ol>
<p><img src="/../images/digital/lec_9_15.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_9_12.jpg" loading="lazy"></p>
<p>MIPS is born to be  pipelined: the problem of structural hazard is solved by the structure of MIPS.</p>
<p><strong>Data Hazards</strong></p>
<p><img src="/../images/digital/lec_9_13.jpg" loading="lazy"></p>
<p>2 solutions:</p>
<p><strong>Stalling</strong></p>
<p><img src="/../images/ss/lec21_8.jpg" loading="lazy"></p>
<p><strong>Forwarding(Bypassing)</strong></p>
<p><img src="/../images/ss/lec21_1.jpg" loading="lazy"></p>
<p><img src="/../images/ss/lec21_2.jpg" loading="lazy"></p>
<p>But, load uses hazard emerges:</p>
<p><img src="/../images/ss/lec21_8.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_10_1.jpg" loading="lazy"></p>
<p>Still, a nop needed to stall the pipeline.</p>
<p><img src="/../images/digital/lec_10_2.jpg" loading="lazy"></p>
<p>Is there any possibility to eliminate the stall?</p>
<p>Yes, if the MIPS code can be optimized.</p>
<p><img src="/../images/digital/lec_10_3.jpg" loading="lazy"></p>
<p><strong>Control Hazards</strong></p>
<p><img src="/../images/digital/lec_9_14.jpg" loading="lazy"></p>
<p><strong>Stalling</strong></p>
<p><img src="/../images/digital/lec_10_4.jpg" loading="lazy"></p>
<p><strong>Forwarding</strong></p>
<p><img src="/../images/digital/lec_10_5.jpg" loading="lazy"></p>
<p>If Move the branch decision to ID stage:</p>
<p><img src="/../images/digital/lec_10_6.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_10_7.jpg" loading="lazy"></p>
<p><strong>Delay slot</strong></p>
<p><img src="/../images/digital/lec_10_8.jpg" loading="lazy"></p>
<p><strong>Prediction</strong></p>
<p>Static Branch Prediction</p>
<p><img src="/../images/digital/lec_10_9.jpg" loading="lazy"></p>
<p>Cancel the effect caused by false prediction.</p>
<p>Dynamic Branch Prediction</p>
<ul>
<li>History-based dynamic prediction</li>
<li>Using runtime behaviour to predict future branches</li>
</ul>
<p>At IF stage, there are Branch History Table(BHT) and Branch Target Buffer(BTB).</p>
<p>beq at IF stage</p>
<p>• Look up if the instruction address is in BHT and BTB.</p>
<p>• If not in, create a new entry. If in, check whether the<br>branch is taken at the last time. If taken, send the target<br>address to PC as the next address for IF.</p>
<p>–beq at ID stage</p>
<p>• IF stage will fetch instruction based on the predicted<br>target address</p>
<h3 id="Implementation-of-the-Pipiline"><a href="#Implementation-of-the-Pipiline" class="headerlink" title="Implementation of the Pipiline"></a>Implementation of the Pipiline</h3><p><img src="/../images/digital/lec_10_10.jpg" loading="lazy"></p>
<p><strong>Data hazard</strong></p>
<p>Forwarding</p>
<p>EX&#x2F;MEM hazard</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (EX/MEM<span class="variable">.RegWrite</span></span><br><span class="line"><span class="keyword">and</span> (EX/MEM<span class="variable">.RegWrAddr</span> != <span class="number">0</span>)</span><br><span class="line"><span class="keyword">and</span> (EX/MEM<span class="variable">.RegWrAddr</span> == ID/EX<span class="variable">.RegisterRs</span>))</span><br><span class="line">    ForwardA = <span class="number">10</span></span><br><span class="line"><span class="keyword">if</span> (EX/MEM<span class="variable">.RegWrite</span></span><br><span class="line"><span class="keyword">and</span> (EX/MEM<span class="variable">.RegWrAddr</span> != <span class="number">0</span>)</span><br><span class="line"><span class="keyword">and</span> (EX/MEM<span class="variable">.RegWrAddr</span> == ID/EX<span class="variable">.RegisterRt</span>))</span><br><span class="line">    ForwardB = <span class="number">10</span></span><br></pre></td></tr></table></figure>

<p>MEM&#x2F;WB hazard</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (MEM/WB<span class="variable">.RegWrite</span></span><br><span class="line"><span class="keyword">and</span> (MEM/WB<span class="variable">.RegWrAddr</span> != <span class="number">0</span>)</span><br><span class="line"><span class="keyword">and</span> (MEM/WB<span class="variable">.RegWrAddr</span> == ID/EX<span class="variable">.RegisterRs</span>)</span><br><span class="line"><span class="keyword">and</span> (EX/MEM<span class="variable">.RegWrAddr</span> != ID/EX<span class="variable">.RegisterRs</span> || ~ EX/MEM<span class="variable">.RegWrite</span>))</span><br><span class="line">    ForwardA = <span class="number">01</span></span><br><span class="line"><span class="keyword">if</span> (MEM/WB<span class="variable">.RegWrite</span></span><br><span class="line"><span class="keyword">and</span> (MEM/WB<span class="variable">.RegWrAddr</span> != <span class="number">0</span>)</span><br><span class="line"><span class="keyword">and</span> (MEM/WB<span class="variable">.RegWrAddr</span> == ID/EX<span class="variable">.RegisterRt</span>)</span><br><span class="line"><span class="keyword">and</span> (EX/MEM<span class="variable">.RegWrAddr</span> != ID/EX<span class="variable">.RegisterRt</span> || ~ EX/MEM<span class="variable">.RegWrite</span>))</span><br><span class="line">    ForwardB = <span class="number">01</span></span><br></pre></td></tr></table></figure>

<p>load-use hazard</p>
<p>We have to stall the pipeline for one cycle.</p>
<p>Condition: <code>if (ID/EX.MemRead and ((ID/EX.RegisterRt == IF/ID.RegisterRs) or  (ID/EX.RegisterRt == IF/ID.RegisterRt)))</code></p>
<p>How to stall?</p>
<p>Stall &amp; flush</p>
<p>PC &amp; ID&#x2F;IF: stall(Keep the control signals)</p>
<p>EX &amp; MEM &amp; WB: flush(Set the control signals to 0)</p>
<p>Control signals:</p>
<p>EX: RegDst, ALUOp1, ALUOp0, ALUSrc</p>
<p>MEM: Branch, MemRead, MemWrite</p>
<p>WB: MemToReg, RegWrite</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> &#123;ID/EX<span class="variable">.MemRead</span></span><br><span class="line"><span class="keyword">and</span> ((ID/EX<span class="variable">.RegisterRt</span> = IF/ID<span class="variable">.RegisterRs</span>)</span><br><span class="line"><span class="keyword">or</span> (ID/EX<span class="variable">.RegisterRt</span> = IF/ID<span class="variable">.RegisterRt</span>))&#125;</span><br><span class="line">    Keep IF/ID; Keep PC; Flush ID/EX;</span><br></pre></td></tr></table></figure>

<p>Special Case:</p>
<p>Memory-to-memory copy</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lw $1, 10($2)</span><br><span class="line">sw $1, 10($3)</span><br></pre></td></tr></table></figure>

<p>The stall is unnecessary. We can use forwarding to solve the problem.</p>
<p><strong>Control Hazard</strong></p>
<p>BEQ &amp; J need 1 stall cycle.</p>
<p>Control hazards are not as frequent as data<br>hazards, but they are harder to be resolved<br>effectively as forwarding.</p>
<p>Another type of control hazard: exceptions and interrupts.</p>
<p>– “Exception” includes any unpredictable events that<br>can change the normal control flow, which has no<br>distinction between internal and external. </p>
<p>– “Interrupt” is only used for external events.</p>
<p><img src="/../images/digital/lec_12_1.jpg" loading="lazy"></p>
<h2 id="Advanced-techniques-for-processor"><a href="#Advanced-techniques-for-processor" class="headerlink" title="Advanced techniques for processor"></a>Advanced techniques for processor</h2><h3 id="Instruction-level-parallelism"><a href="#Instruction-level-parallelism" class="headerlink" title="Instruction-level parallelism"></a>Instruction-level parallelism</h3><p>Superpipelining: a deeper pipeline</p>
<p>VLIW</p>
<p>Multiple-issue: a wider pipeline</p>
<p>Superscalar</p>
<p><img src="/../images/digital/lec_12_2.jpg" loading="lazy"></p>
<h3 id="Thread-level-parallelism"><a href="#Thread-level-parallelism" class="headerlink" title="Thread-level parallelism"></a>Thread-level parallelism</h3><p>Hyper-threading</p>
<p><img src="/../images/digital/lec_12_3.jpg" loading="lazy"></p>
<p>Multicore</p>
<h3 id="Heterogeneous-computing"><a href="#Heterogeneous-computing" class="headerlink" title="Heterogeneous computing"></a>Heterogeneous computing</h3><p>GPU</p>
<p>XPU</p>
<h2 id="Memory"><a href="#Memory" class="headerlink" title="Memory"></a>Memory</h2><h3 id="Basics"><a href="#Basics" class="headerlink" title="Basics"></a>Basics</h3><p>SRAM cell</p>
<p>High speed, low density &amp; expensive</p>
<p><img src="/../images/digital/lec_12_4.jpg" loading="lazy"></p>
<p>DRAM cell</p>
<p>Low speed, high density &amp; cheap. The charge in capacitor may leak, so the data cannot be stored for a long time.</p>
<p><img src="/../images/digital/lec_12_5.jpg" loading="lazy"></p>
<p><img src="/../images/digital/lec_12_6.jpg" loading="lazy"></p>
<h3 id="Evaluation"><a href="#Evaluation" class="headerlink" title="Evaluation"></a>Evaluation</h3><p>3C model:</p>
<p><strong>Compulsory miss</strong> first access to a block</p>
<p><strong>Capacity miss</strong> all lines in cache are used</p>
<p><strong>Conflict miss(collision miss)</strong> not fully filled, but the blocks # &gt; available ways #.</p>
</div></section><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>Blither Boom</li><li class="post-copyright-link"><strong>Post link: </strong><a href="https://blitherboom812.github.io/2023/02/27/%E6%95%B0%E9%80%BB/" title="数逻">https://blitherboom812.github.io/2023/02/27/%E6%95%B0%E9%80%BB/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><span class="icon iconify" data-icon="ri:creative-commons-line"></span><span class="icon iconify" data-icon="ri:creative-commons-by-line"></span><span class="icon iconify" data-icon="ri:creative-commons-nc-line"></span><span class="icon iconify" data-icon="ri:creative-commons-sa-line"></span></a> unless otherwise stated.</li></ul></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2023/09/18/%E9%80%9A%E7%BD%91/" rel="prev" title="通网"><span class="icon iconify" data-icon="ri:arrow-left-s-line"></span><span class="post-nav-text">通网</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2023/02/22/Signal-and-Systems/" rel="next" title="Signals and Systems"><span class="post-nav-text">Signals and Systems</span><span class="icon iconify" data-icon="ri:arrow-right-s-line"></span></a></div></div></div><div class="hty-card" id="comment"></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 – 2025 </span><span class="with-love" id="animate"><span class="icon iconify" data-icon="ri:cloud-line"></span></span><span class="author"> Blither Boom</span></div><div class="powered"><span>Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> v6.2.0</span><span class="footer-separator">|</span><span>Theme - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.10.11</span></div></footer></div><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><script>function initMourn() {
  const date = new Date();
  const today = (date.getMonth() + 1) + "-" + date.getDate()
  const mourn_days = ["4-4","9-18","12-13"]
  if (mourn_days.includes(today)) {
    document.documentElement.style.filter = "grayscale(1)";
  }
}
initMourn();</script></body></html>